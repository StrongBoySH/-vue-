{"remainingRequest":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\src\\pages\\Search.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\src\\pages\\Search.vue","mtime":1600778153781},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KQGltcG9ydCAnLi4vYXNzZXRzL2Nzcy9ib3JkZXIubGVzcyc7DQoucmVkew0KCWNvbG9yOiByZWQ7DQp9DQojc2VhcmNoew0KCS5zZWFyY2hfaGVhZGVyew0KCQlmb250LXNpemU6IDIwcHg7DQoJCWZvbnQtd2VpZ2h0OiBib2xkOw0KCQljb2xvcjogI2ZmZjsNCgkJLmJhY2t7DQoJCQlsaW5lLWhlaWdodDogMS4ycmVtOw0KCSAgICAgICAgbWFyZ2luLWxlZnQ6IDAuM3JlbTsNCgkJfQ0KCX0NCgkuc2VhcmNoQmFyew0KCQltYXJnaW4tdG9wOiAxLjNyZW07DQoJCXdpZHRoOiAxMDAlOw0KCQkudG91dGlhb0ljb257DQoJCQlkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQoJCQlwYWRkaW5nOiAwIC4wNXJlbTsNCgkJCWZvbnQtc2l6ZTogMTNweDsNCgkJCXRleHQtYWxpZ246IGNlbnRlcjsNCgkJCXdpZHRoOiAxMCU7DQoJCX0NCgkJLnNlYXJjaElucHV0ew0KCQkJd2lkdGg6IDkwJTsNCgkJfQ0KCX0NCgkubG9hZGluZ3sNCgkJbWFyZ2luLXRvcDogMXJlbTsNCgl9DQoJLnNlYXJjaE5ld3N7DQoJCS5zZWFyY2hOZXdzSXRlbSB7DQoJICAgICAgICB3aWR0aDogOTQlOw0KCSAgICAgICAgZGlzcGxheTogYmxvY2s7DQoJICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQoJICAgICAgICBtYXJnaW46IDAgYXV0bzsNCgkgICAgICAgIHBhZGRpbmctYm90dG9tOiAwLjE1cmVtOw0KCSAgICAgICAgLmJvcmRlckJvdHRvbSgxcHgsI2NjYyk7DQoJICAgICAgICAudGl0bGUgew0KCSAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsNCgkgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsNCgkgICAgICAgICAgICBjb2xvcjogIzAwMDsNCgkgICAgICAgICAgICBwYWRkaW5nLXRvcDogMC4ycmVtOw0KCSAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAwLjE1cmVtOw0KCSAgICAgICAgfQ0KCSAgICAgICAgaW1nIHsNCgkgICAgICAgICAgICB3aWR0aDogMzEuMSU7DQoJICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwLjIxcmVtOw0KCSAgICAgICAgICAgIGhlaWdodDogMi4zcmVtOw0KCSAgICAgICAgfQ0KCSAgICAgICAgLmJvdHRvbUluZm8gew0KCSAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDsNCgkgICAgICAgICAgICBtYXJnaW4tdG9wOiAwLjE1cmVtOw0KCSAgICAgICAgICAgIC53cml0ZXIgew0KCSAgICAgICAgICAgICAgICBjb2xvcjogIzAwMDsNCgkgICAgICAgICAgICB9DQoJICAgICAgICAgICAgLmNvbW1lbnRfY291bnQgew0KCSAgICAgICAgICAgICAgICBjb2xvcjogIzAwMDsNCgkgICAgICAgICAgICB9DQoJICAgICAgICAgICAgLmRhdGV0aW1lIHsNCgkgICAgICAgICAgICAgICAgZmxvYXQ6IHJpZ2h0Ow0KCSAgICAgICAgICAgICAgICBjb2xvcjogIzAwMDsNCgkgICAgICAgICAgICB9DQoJICAgICAgICAgICAgLmF2SWNvbiB7DQoJICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCgkgICAgICAgICAgICAgICAgaGVpZ2h0OiAwLjRyZW07DQoJICAgICAgICAgICAgICAgIHdpZHRoOiAwLjlyZW07DQoJICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCgkgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDAuNHJlbTsNCgkgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KCSAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjMzlmOw0KCSAgICAgICAgICAgICAgICBmb250LXNpemU6IDEwcHg7DQoJICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMC4xcmVtOw0KCSAgICAgICAgICAgIH0NCgkgICAgICAgIH0NCgkgICAgfQ0KCX0NCn0NCi5lbC1wb3BvdmVyew0KCXdpZHRoOiA5NyU7DQoJLnNlYXJjaExpc3RJdGVtc3sNCgkJZGlzcGxheTogYmxvY2s7DQoJCXBvc2l0aW9uOiByZWxhdGl2ZTsNCgkJaGVpZ2h0OiAuOXJlbTsNCgkJbGluZS1oZWlnaHQ6IC45cmVtOw0KCQkuYm9yZGVyQm90dG9tKDFweCwjY2NjKTsNCgkJZm9udC1zaXplOiAxNnB4Ow0KCQlpew0KCQkJcGFkZGluZzogMCAuMnJlbTsNCgkJCWxpbmUtaGVpZ2h0OiAuOXJlbTsNCgkJfQ0KCX0NCgkuY2xlYXJIaXN0b3J5ew0KCQlmb250LXNpemU6IDE0cHg7DQoJCWhlaWdodDogLjdyZW07DQoJCWxpbmUtaGVpZ2h0OiAxcmVtOw0KCQl0ZXh0LWFsaWduOiBjZW50ZXI7DQoJfQ0KCS5ub0hpc3Rvcnl7DQoJCWZvbnQtc2l6ZTogMTRweDsNCgl9DQp9DQo="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n\t<div id=\"search\">\r\n\t\t<headerBar>\r\n\t\t\t<div slot=\"search\" class=\"search_header\">\r\n\t\t\t\t<Icon type=\"ios-arrow-back\" size=\"28\" color=\"#fff\" class=\"fl back\" @click.native=\"$router.go(-1)\">\r\n\t\t\t\t</Icon>\r\n\t\t\t\t搜索\r\n\t\t\t</div>\r\n\t\t</headerBar>\r\n\t\t<div class=\"searchBar\">\r\n\t\t\t<el-input \r\n\t\t\t\t\tv-model=\"input\" \r\n\t\t\t\t\tplaceholder=\"请输入内容\"\r\n\t\t\t\t\t@keyup.native.enter=\"search(input)\" \r\n\t\t\t\t\tclass=\"searchInput fl\">\r\n\t\t\t</el-input>\r\n\t\t\t<el-popover\r\n\t\t\t  \tref=\"popover4\"\r\n\t\t\t  \tplacement=\"bottom\"\r\n\t\t\t  \ttrigger=\"click\"\r\n\t\t\t  \tid=\"popover\">\r\n\t\t\t  \t<ul class=\"searchList\" v-show=\"test.length != 0\">\r\n\t\t\t\t\t<li class=\"searchListItems\" v-for=\"(item,index) in test\">\r\n\t\t\t\t\t\t<span @click=\"historySearch(item)\">\r\n\t\t\t\t\t\t\t<Icon type=\"ios-search\" size=\"18\"></Icon>\r\n\t\t\t\t\t\t\t{{item}}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<i class=\"el-icon-delete fr\" @click.prevent=\"clearThisHistory(index)\"></i>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<div class=\"clearHistory\" @click=\"clearHistory\">清空历史记录</div>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<ul class=\"noHistory\" v-show=\"test.length == 0\">\r\n\t\t\t\t\t暂无历史搜索记录\r\n\t\t\t\t</ul>\r\n\t\t\t</el-popover>\r\n\t\t\t<span class=\"toutiaoIcon\" v-popover:popover4 >历史记录</span>\r\n\t\t</div>\r\n\t\t<div v-show=\"loading\" v-loading=\"loading\" element-loading-text=\"拼命加载中\" style=\"width: 100%\" class=\"loading\"></div>\r\n\t\t<div class=\"searchNews\">\r\n\t\t\t<router-link \r\n\t\t\t\tv-for=\"(val,index) in con\"\r\n\t\t\t\t:to=\"{\r\n                    name:'newsdetail',\r\n                    params:\r\n                        {   id:val.tag_id,\r\n                            title:val.title,\r\n                            media_info:val.media_info,\r\n                            media_name:val.media_name,\r\n                            datetime:val.datetime,\r\n                            abstract:val.abstract,\r\n                            image_list:val.image_list,\r\n                            repin_count:val.repin_count,\r\n                            comment_count:val.comment_count,\r\n                            keywords:val.keywords\r\n                        }\r\n                }\"\r\n                :key=\"index\" \r\n\t\t\t\tclass=\"searchNewsItem\" \r\n\t\t\t\tv-show=\"val.media_creator_id&&val.title\"\r\n\t\t\t\t>\r\n\t\t\t\t<p class=\"title\" v-html=\"replace(val.title,input)\"></p>\r\n                <div>\r\n                    <img alt=\"加载出错\" v-for=\"(img,index) in val.image_list\" :key=\"index\" v-lazy=\"img.url\">\r\n                    <div class=\"bottomInfo clearfix\">\r\n                        <Icon type=\"fireball\" size=\"10\" color=\"#d43d3d\" v-show=\"val.hot===1\"></Icon>\r\n                        <span class=\"avIcon\" v-show=\"val.label==='广告'\">广告</span>\r\n                        <span class=\"writer\">{{val.media_name}}</span> &nbsp;&nbsp;\r\n                        <span class=\"comment_count\">评论&nbsp;{{val.comment_count}}</span>\r\n                        <span class=\"datetime\">{{val.datetime}}</span>\r\n                    </div>\r\n                </div>\r\n\t\t\t</router-link>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport axios from 'axios'\r\n\timport headerBar from '../components/uc-nav/uc-nav2.vue'\r\nexport default{\r\n\tcomponents:{\r\n\t\theaderBar\r\n\t},\r\n\t// filters:{\r\n\t// \thigh: function(title,inp){\r\n\t// \t\tconst reg = new RegExp(''+inp+'','gim');\r\n\t// \t\tif(title){\r\n\t// \t\t\treturn title.replace(reg,'<span class=\"red\">'+inp+'</span>')\r\n\t// \t\t}else{\r\n\t// \t\t\treturn title;\r\n\t// \t\t}\r\n\t\t\t\r\n\t// \t}\r\n\t// },\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\tloading:false,\r\n\t\t\tflag:true,\r\n\t\t\tinput:'',\r\n\t\t\tcon:[],\r\n\t\t\ttest:[],\r\n\t\t\tsearchCon:''\r\n\t\t}\r\n\t},\r\n\tbeforeRouteLeave (to, from, next){\r\n\t\tif(to.name == 'home'){\r\n\t\t\tthis.con = [];\r\n\t\t\tthis.input = '';\r\n\t\t\tdocument.getElementsByClassName('el-popover')[0].style.display = 'none';\r\n\t\t\tnext();\r\n\t\t}\r\n\t\tnext();\r\n\t},\r\n\tmethods:{\r\n\t\treplace(title,inp){\r\n\t\t\tconst reg = new RegExp(''+inp+'','gim');\r\n\t\t\tif(title){\r\n\t\t\t\treturn title.replace(reg,'<font class=\"red\">'+inp+'</font>')\r\n\t\t\t}else{\r\n\t\t\t\treturn title;\r\n\t\t\t}\r\n\t\t},\r\n\t\thistorySearch(item){\r\n\t\t\tthis.input = item;\r\n\t\t\tthis.flag = false;\r\n\t\t\tthis.search(item);\r\n\t\t\tthis.con = [];\r\n\t\t\tthis.$nextTick(function(){\r\n\t\t\t\tdocument.getElementsByClassName('el-popover')[0].style.display = 'none';\r\n\t\t\t})\r\n\t\t},\r\n\t\tclearHistory() {\r\n\t        this.$confirm('确认清空历史记录?', '提示', {\r\n\t          \tconfirmButtonText: '确定',\r\n\t          \tcancelButtonText: '取消',\r\n\t          \ttype: 'warning'\r\n\t        })\r\n\t        .then(() => {\r\n\t          \tthis.test = [];\r\n\t          \tthis.$message({\r\n\t            \ttype: 'success',\r\n\t            \tmessage: '删除成功!'\r\n\t          \t});\r\n\t        })\r\n\t        .catch(() => {\r\n\t                    \r\n\t        });\r\n\t    },\r\n\t    clearThisHistory(index){\r\n\t    \tthis.$confirm('确认删除此条历史记录?', '提示', {\r\n\t          \tconfirmButtonText: '确定',\r\n\t          \tcancelButtonText: '取消',\r\n\t          \ttype: 'warning'\r\n\t        })\r\n\t        .then(() => {\r\n\t          \tthis.test.splice(index,1);\r\n\t          \tthis.$message({\r\n\t            \ttype: 'success',\r\n\t            \tmessage: '删除成功!'\r\n\t          \t});\r\n\t        })\r\n\t        .catch(() => {\r\n\t                    \r\n\t        });\r\n\t    },\r\n\t    //回车搜索\r\n\t\tsearch(input){\r\n\t\t\tconst _this = this;\r\n\t\t\tinput = input.trim();\r\n\t\t\tif(input){\r\n\t\t\t\tif(this.searchCon == input){\r\n\t\t\t\t\tif(this.flag){\r\n\t\t\t\t\t\treturn ;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t_this.loading = true;\r\n\t\t\t\tjsonp('http://www.toutiao.com/search_content/?offset=0&format=json&keyword='+input+'&autoload=true&count=20&cur_tab=1',function(err,res){\r\n\t\t\t\t\t_this.con = res.data;\r\n\t\t\t\t\t_this.loading = false;\r\n\t\t\t\t})\r\n\t\t\t\tthis.test.unshift(input);\r\n\t\t\t\tthis.searchCon = input;\r\n\t\t\t\tthis.flag = true;\r\n\t\t\t}else{\r\n\t\t\t\tthis.searchCon = '';\r\n\t\t\t\tthis.con = [];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n@import '../assets/css/border.less';\r\n.red{\r\n\tcolor: red;\r\n}\r\n#search{\r\n\t.search_header{\r\n\t\tfont-size: 20px;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #fff;\r\n\t\t.back{\r\n\t\t\tline-height: 1.2rem;\r\n\t        margin-left: 0.3rem;\r\n\t\t}\r\n\t}\r\n\t.searchBar{\r\n\t\tmargin-top: 1.3rem;\r\n\t\twidth: 100%;\r\n\t\t.toutiaoIcon{\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tpadding: 0 .05rem;\r\n\t\t\tfont-size: 13px;\r\n\t\t\ttext-align: center;\r\n\t\t\twidth: 10%;\r\n\t\t}\r\n\t\t.searchInput{\r\n\t\t\twidth: 90%;\r\n\t\t}\r\n\t}\r\n\t.loading{\r\n\t\tmargin-top: 1rem;\r\n\t}\r\n\t.searchNews{\r\n\t\t.searchNewsItem {\r\n\t        width: 94%;\r\n\t        display: block;\r\n\t        position: relative;\r\n\t        margin: 0 auto;\r\n\t        padding-bottom: 0.15rem;\r\n\t        .borderBottom(1px,#ccc);\r\n\t        .title {\r\n\t            font-size: 16px;\r\n\t            font-weight: bold;\r\n\t            color: #000;\r\n\t            padding-top: 0.2rem;\r\n\t            padding-bottom: 0.15rem;\r\n\t        }\r\n\t        img {\r\n\t            width: 31.1%;\r\n\t            margin-right: 0.21rem;\r\n\t            height: 2.3rem;\r\n\t        }\r\n\t        .bottomInfo {\r\n\t            font-size: 10px;\r\n\t            margin-top: 0.15rem;\r\n\t            .writer {\r\n\t                color: #000;\r\n\t            }\r\n\t            .comment_count {\r\n\t                color: #000;\r\n\t            }\r\n\t            .datetime {\r\n\t                float: right;\r\n\t                color: #000;\r\n\t            }\r\n\t            .avIcon {\r\n\t                display: inline-block;\r\n\t                height: 0.4rem;\r\n\t                width: 0.9rem;\r\n\t                text-align: center;\r\n\t                line-height: 0.4rem;\r\n\t                border-radius: 4px;\r\n\t                border: 1px solid #39f;\r\n\t                font-size: 10px;\r\n\t                margin-right: 0.1rem;\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t}\r\n}\r\n.el-popover{\r\n\twidth: 97%;\r\n\t.searchListItems{\r\n\t\tdisplay: block;\r\n\t\tposition: relative;\r\n\t\theight: .9rem;\r\n\t\tline-height: .9rem;\r\n\t\t.borderBottom(1px,#ccc);\r\n\t\tfont-size: 16px;\r\n\t\ti{\r\n\t\t\tpadding: 0 .2rem;\r\n\t\t\tline-height: .9rem;\r\n\t\t}\r\n\t}\r\n\t.clearHistory{\r\n\t\tfont-size: 14px;\r\n\t\theight: .7rem;\r\n\t\tline-height: 1rem;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.noHistory{\r\n\t\tfont-size: 14px;\r\n\t}\r\n}\r\n</style>"]}]}