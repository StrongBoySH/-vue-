{"remainingRequest":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-picker\\ui-picker.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-picker\\ui-picker.vue","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J3VpLXBpY2tlcicsCiAgICBwcm9wczp7CiAgICAgICAgb3B0aW9uczpBcnJheSwKICAgICAgICB2YWx1ZTonJywKICAgICAgICBsYWJlbDpTdHJpbmcsCiAgICAgICAgcmVxdWlyZWQ6Qm9vbGVhbiwKICAgICAgICBwbGFjZWhvbGRlcjp7CiAgICAgICAgICAgIHR5cGU6U3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0Oifor7fpgInmi6nkuIDpobknCiAgICAgICAgfSwKICAgICAgICBkaXNhYmxlZDp7CiAgICAgICAgICAgIHR5cGU6Qm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDpmYWxzZQogICAgICAgIH0sCiAgICAgICAgdmFsdWVLZXk6ewogICAgICAgICAgICB0eXBlOlN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDondGV4dCcKICAgICAgICB9CiAgICB9LAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHBvcHVwVmlzaWJsZTpmYWxzZSwKICAgICAgICAgICAgcmVSZW5kZXJTd2l0Y2g6dHJ1ZSwvL+eUqOS6jumHjee7mHBpY2tlcgogICAgICAgICAgICBzZWxlY3RlZFRleHQ6JycsCiAgICAgICAgICAgIHNlbGVjdGVkSW5kZXg6MAogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCl7CiAgICAgICAgdGhpcy5zeW5jQnlNb2RlbCgpCiAgICB9LAogICAgd2F0Y2g6ewogICAgICAgIHZhbHVlKHYpewogICAgICAgICAgICB0aGlzLnN5bmNCeU1vZGVsKCkKICAgICAgICB9LAogICAgICAgIHBvcHVwVmlzaWJsZSh2KXsKICAgICAgICAgICAgaWYgKHY9PT10cnVlKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5waWNrZXIuc2V0SW5kZXhlcyhbdGhpcy5zZWxlY3RlZEluZGV4XSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgY29uZmlybShpdGVtKXsKICAgICAgICAgICAgLy8g5L+u5pS5di1tb2RlbAogICAgICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsaXRlbS5pZCkKICAgICAgICAgICAgLy8gQGNoYW5nZeWbnuiwgwogICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFRleHQpIHsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGl0ZW0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5YWz6ZetCiAgICAgICAgICAgIHRoaXMuY2xvc2UoKQogICAgICAgIH0sCiAgICAgICAgb3BlbigpewogICAgICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpewogICAgICAgICAgICAgICAgdGhpcy5wb3B1cFZpc2libGU9dHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjbG9zZSgpewogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwVmlzaWJsZT1mYWxzZQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc3luY0J5TW9kZWwoKXsKICAgICAgICAgICAgaWYgKCF0aGlzLnZhbHVlKSByZXR1cm47CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goKGl0ZW0saSk9PnsKICAgICAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSB0aGlzLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSBpdGVtW3RoaXMudmFsdWVLZXldCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4PWkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9LAp9Cg=="},{"version":3,"sources":["ui-picker.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ui-picker.vue","sourceRoot":"node_modules/vant-ui/components/ui-picker","sourcesContent":["<style lang=\"scss\" scoped>\n    .ui-picker{\n        width: 100vw;\n    }\n</style>\n<template>\n    <van-field :label=\"label\" v-model=\"selectedText\" :placeholder=\"placeholder\" readonly :required=\"required\" @focus=\"open()\">\n        <!-- 弹出层会插入body -->\n        <template v-slot:button>\n            <div ref=\"popup\">\n                <van-popup class=\"ui-picker\" v-model=\"popupVisible\" position=\"bottom\" get-container=\"body\">\n                    <van-picker\n                    show-toolbar\n                    :columns=\"options\"\n                    @cancel=\"close\"\n                    @confirm=\"confirm\"\n                    ref=\"picker\"\n                    :loading=\"options.length===0\"\n                    />\n                </van-popup>\n            </div>\n        </template>\n    </van-field>\n</template>\n<script>\n    export default {\n        name:'ui-picker',\n        props:{\n            options:Array,\n            value:'',\n            label:String,\n            required:Boolean,\n            placeholder:{\n                type:String,\n                default:'请选择一项'\n            },\n            disabled:{\n                type:Boolean,\n                default:false\n            },\n            valueKey:{\n                type:String,\n                default:'text'\n            }\n        },\n        data(){\n            return {\n                popupVisible:false,\n                reRenderSwitch:true,//用于重绘picker\n                selectedText:'',\n                selectedIndex:0\n            }\n        },\n        mounted(){\n            this.syncByModel()\n        },\n        watch:{\n            value(v){\n                this.syncByModel()\n            },\n            popupVisible(v){\n                if (v===true) {\n                    this.$nextTick(() => {\n                        this.$refs.picker.setIndexes([this.selectedIndex])\n                    })\n                }\n            }\n        },\n        methods:{\n            confirm(item){\n                // 修改v-model\n                this.$emit('input',item.id)\n                // @change回调\n                if (this.selectedText) {\n                    this.$emit('change', item)\n                }\n                // 关闭\n                this.close()\n            },\n            open(){\n                if (!this.disabled){\n                    this.popupVisible=true\n                }\n            },\n            close(){\n                this.$nextTick(() => {\n                    this.popupVisible=false\n                })\n            },\n            syncByModel(){\n                if (!this.value) return;\n                    \n                this.options.forEach((item,i)=>{\n                    if (item.id === this.value) {\n                        this.selectedText = item[this.valueKey]\n                        this.selectedIndex=i\n                    }\n                })\n            }\n        },\n    }\n</script>\n"]}]}