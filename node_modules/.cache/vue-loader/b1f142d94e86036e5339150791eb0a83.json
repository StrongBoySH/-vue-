{"remainingRequest":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-picker\\ui-picker.vue?vue&type=style&index=0&id=052043fc&lang=scss&scoped=true&","dependencies":[{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-picker\\ui-picker.vue","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci51aS1waWNrZXJ7CiAgICB3aWR0aDogMTAwdnc7Cn0K"},{"version":3,"sources":["ui-picker.vue"],"names":[],"mappings":";AACA;AACA;AACA","file":"ui-picker.vue","sourceRoot":"node_modules/vant-ui/components/ui-picker","sourcesContent":["<style lang=\"scss\" scoped>\n    .ui-picker{\n        width: 100vw;\n    }\n</style>\n<template>\n    <van-field :label=\"label\" v-model=\"selectedText\" :placeholder=\"placeholder\" readonly :required=\"required\" @focus=\"open()\">\n        <!-- 弹出层会插入body -->\n        <template v-slot:button>\n            <div ref=\"popup\">\n                <van-popup class=\"ui-picker\" v-model=\"popupVisible\" position=\"bottom\" get-container=\"body\">\n                    <van-picker\n                    show-toolbar\n                    :columns=\"options\"\n                    @cancel=\"close\"\n                    @confirm=\"confirm\"\n                    ref=\"picker\"\n                    :loading=\"options.length===0\"\n                    />\n                </van-popup>\n            </div>\n        </template>\n    </van-field>\n</template>\n<script>\n    export default {\n        name:'ui-picker',\n        props:{\n            options:Array,\n            value:'',\n            label:String,\n            required:Boolean,\n            placeholder:{\n                type:String,\n                default:'请选择一项'\n            },\n            disabled:{\n                type:Boolean,\n                default:false\n            },\n            valueKey:{\n                type:String,\n                default:'text'\n            }\n        },\n        data(){\n            return {\n                popupVisible:false,\n                reRenderSwitch:true,//用于重绘picker\n                selectedText:'',\n                selectedIndex:0\n            }\n        },\n        mounted(){\n            this.syncByModel()\n        },\n        watch:{\n            value(v){\n                this.syncByModel()\n            },\n            popupVisible(v){\n                if (v===true) {\n                    this.$nextTick(() => {\n                        this.$refs.picker.setIndexes([this.selectedIndex])\n                    })\n                }\n            }\n        },\n        methods:{\n            confirm(item){\n                // 修改v-model\n                this.$emit('input',item.id)\n                // @change回调\n                if (this.selectedText) {\n                    this.$emit('change', item)\n                }\n                // 关闭\n                this.close()\n            },\n            open(){\n                if (!this.disabled){\n                    this.popupVisible=true\n                }\n            },\n            close(){\n                this.$nextTick(() => {\n                    this.popupVisible=false\n                })\n            },\n            syncByModel(){\n                if (!this.value) return;\n                    \n                this.options.forEach((item,i)=>{\n                    if (item.id === this.value) {\n                        this.selectedText = item[this.valueKey]\n                        this.selectedIndex=i\n                    }\n                })\n            }\n        },\n    }\n</script>\n"]}]}