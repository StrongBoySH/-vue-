{"remainingRequest":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-datetime\\ui-datetime.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-datetime\\ui-datetime.vue","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J3VpLWRhdGV0aW1lJywKICAgIHByb3BzOnsKICAgICAgICBsYWJlbDpTdHJpbmcsLy/lvZPliY3pobXmoIfpopgKICAgICAgICB0eXBlOnsKICAgICAgICAgICAgdHlwZTpTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6J2RhdGV0aW1lJwogICAgICAgIH0sCiAgICAgICAgdmFsdWU6ewogICAgICAgICAgICB0eXBlOlN0cmluZywKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOkJvb2xlYW4sCiAgICAgICAgZGlzYWJsZWQ6ewogICAgICAgICAgICB0eXBlOkJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6ZmFsc2UKICAgICAgICB9LAogICAgICAgIHBsYWNlaG9sZGVyOnsKICAgICAgICAgICAgdHlwZTpTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6J+ivt+mAieaLqeaXtumXtCcKICAgICAgICB9LAogICAgICAgIG1pbkRhdGU6RGF0ZSwKICAgICAgICBtYXhEYXRlOkRhdGUsCiAgICAgICAgbWluSG91cjpOdW1iZXIsCiAgICAgICAgbWF4SG91cjpOdW1iZXIsCiAgICAgICAgbWluTWludXRlOk51bWJlciwKICAgICAgICBtYXhNaW51dGU6TnVtYmVyLAogICAgfSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBwb3B1cFZpc2libGU6ZmFsc2UsCiAgICAgICAgICAgIHBpY2tlck1vZGVsOicnLAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICBvcGVuKCl7CiAgICAgICAgICAgIC8v5pe26Ze057uE5Lu25omT5byA5pe2cGlja2Vy6YCJ6aG55a6a5L2NCiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50eXBlPT09J3RpbWUnKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5pe26Ze057G75Z6L5peg5rOV55u05o6l6LWL5YC85a6a5L2NCiAgICAgICAgICAgICAgICAgICAgbGV0IGhvdXIgPSB0aGlzLnZhbHVlLnNwbGl0KCc6JylbMF0KICAgICAgICAgICAgICAgICAgICBsZXQgbWludXRlID0gdGhpcy52YWx1ZS5zcGxpdCgnOicpWzFdCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5waWNrZXIuJGNoaWxkcmVuWzBdLnNldFZhbHVlcyhbaG91cixtaW51dGVdKQogICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIOebtOaOpei1i+WAvOWumuS9jQogICAgICAgICAgICAgICAgICAgIHRoaXMucGlja2VyTW9kZWwgPSBuZXcgRGF0ZSh0aGlzLnZhbHVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnBvcHVwVmlzaWJsZSA9IHRydWUKICAgICAgICB9LAogICAgICAgIGNsb3NlKCl7CiAgICAgICAgICAgIHRoaXMucG9wdXBWaXNpYmxlID0gZmFsc2UKICAgICAgICB9LAogICAgICAgIGNvbmZpcm0odmFsKXsKICAgICAgICAgICAgLy8g5qC55o2u57G75Z6L56Gu5a6a5qC85byP5YyWCiAgICAgICAgICAgIGxldCBmb3JtYXRlID0neXl5eS1NTS1kZCBoaDptbTpzcycKICAgICAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHsKICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOgogICAgICAgICAgICAgICAgICAgIGZvcm1hdGU9J3l5eXktTU0tZGQnCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICd0aW1lJzoKICAgICAgICAgICAgICAgICAgICBmb3JtYXRlPSdoaDptbTpzcycKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ3llYXItbW9udGgnOgogICAgICAgICAgICAgICAgICAgIGZvcm1hdGU9J3l5eXktTU0nCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g5bCG5pyA57uI6L6T5Ye657uT5p6c6L2s5YyW5Li66Ieq54S25pe26Ze0LeWtl+espuS4sgogICAgICAgICAgICBsZXQgdGltZVN0ciA9ICcnCiAgICAgICAgICAgIGlmICh0aGlzLnR5cGU9PT0ndGltZScpIHsKICAgICAgICAgICAgICAgIHRpbWVTdHIgPSB2YWwKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlICB7CiAgICAgICAgICAgICAgICB0aW1lU3RyID0gdGhpcy4kZGF0ZSh2YWwsIGZvcm1hdGUpCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOWbnuaYvui+k+WHugogICAgICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRpbWVTdHIpCgogICAgICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgICAgICAgdGhpcy4kZW1pdCgnY29uZmlybScsdGltZVN0cikKICAgICAgICB9LAogICAgICAgIGNhbmNlbCgpewogICAgICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJykKICAgICAgICB9CiAgICB9LAp9Cg=="},{"version":3,"sources":["ui-datetime.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ui-datetime.vue","sourceRoot":"node_modules/vant-ui/components/ui-datetime","sourcesContent":["<style lang=\"scss\" scoped>\n    .ui-datetime{\n        width: 100vw;\n    }\n</style>\n<template>\n    <van-field\n        v-model=\"value\"\n        :label=\"label\"\n        :placeholder=\"placeholder\"\n        :required=\"required\"\n        :disabled=\"disabled\"\n        readonly\n        @focus=\"open()\">\n\n        <!-- 弹出层会插入body -->\n        <template v-slot:button>\n            <div ref=\"popup\">\n                <van-popup v-model=\"popupVisible\" position=\"bottom\" class=\"ui-datetime\" get-container=\"body\">\n                    <van-datetime-picker \n                    ref=\"picker\"\n                    v-model=\"pickerModel\" \n                    :type=\"type\"\n                    :min-date=\"minDate\"\n                    :max-date=\"maxDate\"\n                    :min-hour=\"minHour\"\n                    :max-hour=\"maxHour\"\n                    :min-Minute=\"minMinute\"\n                    :max-Minute=\"maxMinute\"\n                    @confirm=\"confirm\"\n                    @cancel=\"cancel\"/>\n                </van-popup>\n            </div>\n        </template>\n\n    </van-field>\n</template>\n<script>\n    export default {\n        name:'ui-datetime',\n        props:{\n            label:String,//当前页标题\n            type:{\n                type:String,\n                default:'datetime'\n            },\n            value:{\n                type:String,\n            },\n            required:Boolean,\n            disabled:{\n                type:Boolean,\n                default:false\n            },\n            placeholder:{\n                type:String,\n                default:'请选择时间'\n            },\n            minDate:Date,\n            maxDate:Date,\n            minHour:Number,\n            maxHour:Number,\n            minMinute:Number,\n            maxMinute:Number,\n        },\n        data(){\n            return {\n                popupVisible:false,\n                pickerModel:'',\n            }\n        },\n        methods:{\n            open(){\n                //时间组件打开时picker选项定位\n                if (this.value) {\n                    if (this.type==='time') {\n                        // 时间类型无法直接赋值定位\n                        let hour = this.value.split(':')[0]\n                        let minute = this.value.split(':')[1]\n                        this.$refs.picker.$children[0].setValues([hour,minute])\n                    }else {\n                        // 直接赋值定位\n                        this.pickerModel = new Date(this.value);\n                    }\n                }\n                this.popupVisible = true\n            },\n            close(){\n                this.popupVisible = false\n            },\n            confirm(val){\n                // 根据类型确定格式化\n                let formate ='yyyy-MM-dd hh:mm:ss'\n                switch (this.type) {\n                    case 'date':\n                        formate='yyyy-MM-dd'\n                        break;\n                    case 'time':\n                        formate='hh:mm:ss'\n                        break;\n                    case 'year-month':\n                        formate='yyyy-MM'\n                        break;\n                \n                    default:\n                        break;\n                }\n\n                // 将最终输出结果转化为自然时间-字符串\n                let timeStr = ''\n                if (this.type==='time') {\n                    timeStr = val\n                }\n                else  {\n                    timeStr = this.$date(val, formate)\n                }\n\n                // 回显输出\n                this.$emit('input', timeStr)\n\n                this.close()\n                this.$emit('confirm',timeStr)\n            },\n            cancel(){\n                this.close()\n                this.$emit('cancel')\n            }\n        },\n    }\n</script>"]}]}