{"remainingRequest":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-menu\\ui-menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-menu\\ui-menu.vue","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J3VpLW1lbnUnLAogICAgcHJvcHM6ewogICAgICAgIG9wdGlvbnM6QXJyYXksCiAgICAgICAgdmFsdWU6JycsLy/lvZPliY3kuoznuqfoioLngrlpZAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZ3JvdXBUZXh0OicnLAogICAgICAgICAgICBpdGVtVGV4dDonJywKICAgICAgICAgICAgZmlsdGVyVmlzaWJsZTpmYWxzZSwKICAgICAgICAgICAgaGVhZGVySGVpZ2h0OicnLAogICAgICAgICAgICB0cmVlVmlzaWJsZTpmYWxzZSwKICAgICAgICAgICAgbWFpbkFjdGl2ZUluZGV4OjAsCiAgICAgICAgICAgIGFjdGl2ZUdyb3VwSW5kZXg6MCwvL+W9k+WJjeeCueS6rueahOe7hAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgb25OYXZDbGljayhpbmRleCkgey8v5LiA57qn6IqC54K56YCJ5oupCiAgICAgICAgICAgIHRoaXMubWFpbkFjdGl2ZUluZGV4ID0gaW5kZXgKICAgICAgICAgICAgCiAgICAgICAgfSwKICAgICAgICBvbkl0ZW1DbGljayhkYXRhKSB7Ly/kuoznuqfoioLngrnpgInmi6kKICAgICAgICAgICAgdGhpcy5ncm91cFRleHQgPSB0aGlzLm9wdGlvbnNbdGhpcy5tYWluQWN0aXZlSW5kZXhdLnRleHQKICAgICAgICAgICAgdGhpcy5pdGVtVGV4dCA9IGRhdGEudGV4dAoKICAgICAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLGRhdGEuaWQpCiAgICAgICAgICAgIHRoaXMuY2xvc2UoKQogICAgICAgIH0sCiAgICAgICAgb3BlbigpewogICAgICAgICAgICB0aGlzLnRyZWVWaXNpYmxlID0gdHJ1ZQogICAgICAgIH0sCiAgICAgICAgY2xvc2UoKXsKICAgICAgICAgICAgdGhpcy50cmVlVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgfSwKICAgICAgICB1cGRhdGVUZXh0KCl7Ly/mm7TmlrDpnaLljIXlsZHlr7zoiKoKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goKGdyb3VwLGluZGV4KT0+ewogICAgICAgICAgICAgICAgICAgIGlmIChncm91cC5jaGlsZHJlbikgewogICAgICAgICAgICAgICAgICAgICAgICBncm91cC5jaGlsZHJlbi5mb3JFYWNoKChpdGVtKT0+ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT0gdGhpcy52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBUZXh0ID0gZ3JvdXAudGV4dAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbVRleHQgPSBpdGVtLnRleHQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUdyb3VwSW5kZXggPSBpbmRleAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgIH0sCiAgICB3YXRjaDp7CiAgICAgICAgdHJlZVZpc2libGUodil7CiAgICAgICAgICAgIGlmICh2KSB7CiAgICAgICAgICAgICAgICAvL+W8gOWQr+etm+mAieaXtizph43nva7okpnlsYJ0b3DlrprkvY0KICAgICAgICAgICAgICAgIGNvbnN0IGJhciA9IHRoaXMuJHJlZnMuYmFyCiAgICAgICAgICAgICAgICB0aGlzLmhlYWRlckhlaWdodCA9IGJhci5vZmZzZXRUb3AgKyBiYXIuY2xpZW50SGVpZ2h0ICsgJ3B4JwoKICAgICAgICAgICAgICAgIC8vIOa/gOa0u+WvueW6lOeahOe7hAogICAgICAgICAgICAgICAgdGhpcy5tYWluQWN0aXZlSW5kZXggPSB0aGlzLmFjdGl2ZUdyb3VwSW5kZXgKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRldmVudEh1Yi4kZW1pdCgndWktbWFpbi1zY3JvbGwnLCF2KQogICAgICAgIH0sCiAgICAgICAgdmFsdWUoKXsKICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KCkKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpewogICAgICAgIHRoaXMudXBkYXRlVGV4dCgpCiAgICB9LAp9Cg=="},{"version":3,"sources":["ui-menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ui-menu.vue","sourceRoot":"node_modules/vant-ui/components/ui-menu","sourcesContent":["<style lang=\"scss\" scope>\n    .modal{\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(black,.5);\n        z-index: 10;\n    }\n    .filter-list{\n        $bg:#f8f8f8;\n        position: absolute;\n        left: 0;\n        right: 0;\n        font-size: 12px;\n        z-index: 11;\n        background-color: #fff;\n        .van-tree-select__nav{\n            background-color: $bg;\n        }\n        .van-tree-select__item{\n            border-bottom:1px solid rgba(black,.05);\n        }\n        .van-tree-select__nitem{//一级菜单\n            background-color: $bg;\n            &.van-tree-select__nitem--active{//已激活\n                background-color: #fff;\n                color:#f44\n            }\n        }\n    }\n    .tree-select-bar{\n        background-color: #fff;\n        padding: .3rem .5rem;\n        font-size: 12px;\n        color: #26a2ff;\n        box-shadow: 0 1px 1px rgba(black, .1);\n        position: relative;\n        z-index: 2;\n    }\n</style>\n<template>\n    <div ref=\"el\">\n        <!-- 面包屑开关 -->\n        <div class=\"tree-select-bar\" ref=\"bar\">\n            <span @click=\"treeVisible=!treeVisible\">\n                {{groupText}} / {{itemText}}\n                <van-icon name=\"arrow-down\" />\n            </span>\n        </div>\n        <!-- 筛选树 -->\n        <div>\n            <van-tree-select\n            v-show=\"treeVisible\" \n            :items=\"options\" \n            :main-active-index=\"mainActiveIndex\" \n            :active-id=\"value\" \n            @navclick=\"onNavClick\" \n            @itemclick=\"onItemClick\" \n            class=\"filter-list\"\n            />\n            <div class=\"modal\" v-show=\"treeVisible\" :style=\"{top:headerHeight}\" @click=\"treeVisible=false\" ref=\"modal\"></div>\n        </div>\n    </div>\n</template>\n<script>\n    export default {\n        name:'ui-menu',\n        props:{\n            options:Array,\n            value:'',//当前二级节点id\n        },\n        data() {\n            return {\n                groupText:'',\n                itemText:'',\n                filterVisible:false,\n                headerHeight:'',\n                treeVisible:false,\n                mainActiveIndex:0,\n                activeGroupIndex:0,//当前点亮的组\n            }\n        },\n        methods: {\n            onNavClick(index) {//一级节点选择\n                this.mainActiveIndex = index\n                \n            },\n            onItemClick(data) {//二级节点选择\n                this.groupText = this.options[this.mainActiveIndex].text\n                this.itemText = data.text\n\n                this.$emit('input',data.id)\n                this.close()\n            },\n            open(){\n                this.treeVisible = true\n            },\n            close(){\n                this.treeVisible = false\n            },\n            updateText(){//更新面包屑导航\n                this.$nextTick(() => {\n                    this.options.forEach((group,index)=>{\n                        if (group.children) {\n                            group.children.forEach((item)=>{\n                                if (item.id == this.value) {\n                                    this.groupText = group.text\n                                    this.itemText = item.text\n                                    this.activeGroupIndex = index\n                                }\n                            })\n                        }\n                    })\n                })\n            },\n        },\n        watch:{\n            treeVisible(v){\n                if (v) {\n                    //开启筛选时,重置蒙层top定位\n                    const bar = this.$refs.bar\n                    this.headerHeight = bar.offsetTop + bar.clientHeight + 'px'\n\n                    // 激活对应的组\n                    this.mainActiveIndex = this.activeGroupIndex\n                }\n                this.$eventHub.$emit('ui-main-scroll',!v)\n            },\n            value(){\n                this.updateText()\n            }\n        },\n        mounted(){\n            this.updateText()\n        },\n    }\n</script>"]}]}