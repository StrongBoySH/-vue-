{"remainingRequest":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-lightbox\\ui-lightbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-lightbox\\ui-lightbox.vue","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQaG90b1N3aXBlIGZyb20gJ3Bob3Rvc3dpcGUnCmltcG9ydCBQaG90b1N3aXBlVUlfRGVmYXVsdCBmcm9tICdwaG90b3N3aXBlL2Rpc3QvcGhvdG9zd2lwZS11aS1kZWZhdWx0JwppbXBvcnQgJ3Bob3Rvc3dpcGUvZGlzdC9waG90b3N3aXBlLmNzcycKaW1wb3J0ICdwaG90b3N3aXBlL2Rpc3QvZGVmYXVsdC1za2luL2RlZmF1bHQtc2tpbi5jc3MnCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J3VpLWxpZ2h0Ym94JywKICAgIHByb3BzOiB7CiAgICAgICAgaXRlbXM6IEFycmF5LAogICAgICAgIG9wdGlvbnM6IE9iamVjdAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZ2FsbGVyeTogbnVsbAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgY2xvc2UoKSB7CiAgICAgICAgICAgIHRoaXMuZ2FsbGVyeS5kZXN0cm95KCkKICAgICAgICB9LAogICAgICAgIG9wZW4oaW5kZXggPSAwKSB7CiAgICAgICAgICAgIGxldCBvcHQgPSB7CiAgICAgICAgICAgICAgICBoaXN0b3J5OiBmYWxzZSwgLy/kuI3pnIDopoHlnKhxdWVyeei/veWKoOWOhuWPsuiusOW9lQogICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LCAvL+WIneWni+aJk+W8gOeahOWbvueJh+e0ouW8lQogICAgICAgICAgICB9CiAgICAgICAgICAgIG9wdCA9IE9iamVjdC5hc3NpZ24oe30sIG9wdCwgdGhpcy5vcHRpb25zKQoKICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZXMgYW5kIG9wZW5zIFBob3RvU3dpcGUKICAgICAgICAgICAgdGhpcy5nYWxsZXJ5ID0gbmV3IFBob3RvU3dpcGUodGhpcy4kcmVmcy5wc3dwLCBQaG90b1N3aXBlVUlfRGVmYXVsdCwgdGhpcy5pdGVtcywgb3B0KTsKCiAgICAgICAgICAgIHRoaXMuZ2FsbGVyeS5pbml0KCk7CiAgICAgICAgfSwKICAgICAgICByZWluaXQoKXsvL+mHjeaWsOa4suafkwogICAgICAgICAgICBpZiAodGhpcy5nYWxsZXJ5KSB7CiAgICAgICAgICAgICAgICB0aGlzLmdhbGxlcnkuaW52YWxpZGF0ZUN1cnJJdGVtcygpOyAvLyByZWluaXQgSXRlbXMKICAgICAgICAgICAgICAgIHRoaXMuZ2FsbGVyeS51cGRhdGVTaXplKHRydWUpOyAvLyByZWluaXQgSXRlbXMKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaW1nUmVzaXplKCl7Ly8g5b2T5Zu+54mH5bC65a+45Li6IDAs5byA5ZCv5pys5Zyw5Yqo5oCB6K6h566XCiAgICAgICAgICAgIGlmICghdGhpcy5pdGVtcy5sZW5ndGgpIHJldHVybjsKICAgICAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKT0+ewogICAgICAgICAgICAgICAgY29uc3QgYXV0b1NpemUgPSAhaXRlbS53IHx8ICFpdGVtLmgKICAgICAgICAgICAgICAgIGlmIChpdGVtLnNyYyAmJiBhdXRvU2l6ZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpOyAKICAgICAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gKCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS53ID0gaW1nLm5hdHVyYWxXaWR0aAogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmggPSBpbWcubmF0dXJhbEhlaWdodAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlaW5pdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBpdGVtLnNyYwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCl7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLiRyZWZzLnBzd3ApCiAgICAgICAgaWYgKHRoaXMuaXRlbXMubGVuZ3RoPjApIHsKICAgICAgICAgICAgdGhpcy5pbWdSZXNpemUoKQogICAgICAgIH0KICAgIH0sCiAgICBiZWZvcmVEZXN0cm95KCl7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLiRyZWZzLnBzd3ApCiAgICB9LAogICAgd2F0Y2g6ewogICAgICAgIGl0ZW1zKCl7CiAgICAgICAgICAgIHRoaXMuaW1nUmVzaXplKCkKICAgICAgICB9CiAgICB9LAp9Cgo="},{"version":3,"sources":["ui-lightbox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ui-lightbox.vue","sourceRoot":"node_modules/vant-ui/components/ui-lightbox","sourcesContent":["<style lang=\"scss\" scoped>\n    .button-slot {//自定义按钮\n        float: right;\n        >* {\n            width: 44px;\n            height: 44px;\n            display: inline-flex;\n            justify-content: center;\n            align-items: center;\n        }\n    }\n\n</style>\n<template>\n    <!-- Root element of PhotoSwipe. Must have class pswp. -->\n    <div ref=\"pswp\" class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n\n        <!-- Background of PhotoSwipe. \n         It's a separate element as animating opacity is faster than rgba(). -->\n        <div class=\"pswp__bg\"></div>\n\n        <!-- Slides wrapper with overflow:hidden. -->\n        <div class=\"pswp__scroll-wrap\">\n\n            <!-- Container that holds slides. \n            PhotoSwipe keeps only 3 of them in the DOM to save memory.\n            Don't modify these 3 pswp__item elements, data is added later on. -->\n            <div class=\"pswp__container\">\n                <div class=\"pswp__item\"></div>\n                <div class=\"pswp__item\"></div>\n                <div class=\"pswp__item\"></div>\n            </div>\n\n            <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->\n            <div class=\"pswp__ui pswp__ui--hidden\">\n\n                <div class=\"pswp__top-bar\">\n\n                    <!--  Controls are self-explanatory. Order can be changed. -->\n\n                    <div class=\"pswp__counter\"></div>\n\n                    <a class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\" @click=\"$emit('close')\"></a>\n\n                    <!-- <button class=\"pswp__button pswp__button--share\" title=\"Share\"></button> -->\n\n                    <button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button>\n\n                    <button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button>\n\n                    <!-- 自定义按钮 -->\n                    <div class=\"button-slot\">\n                        <slot name=\"button\"></slot>\n                    </div>\n\n                    <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->\n                    <!-- element will get class pswp__preloader--active when preloader is running -->\n                    <div class=\"pswp__preloader\">\n                        <div class=\"pswp__preloader__icn\">\n                            <div class=\"pswp__preloader__cut\">\n                                <div class=\"pswp__preloader__donut\"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\">\n                    <div class=\"pswp__share-tooltip\"></div>\n                </div>\n\n                <button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\">\n                </button>\n\n                <button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\">\n                </button>\n\n                <div class=\"pswp__caption\">\n                    <div class=\"pswp__caption__center\"></div>\n                </div>\n\n            </div>\n\n        </div>\n\n    </div>\n</template>\n<script>\n    import PhotoSwipe from 'photoswipe'\n    import PhotoSwipeUI_Default from 'photoswipe/dist/photoswipe-ui-default'\n    import 'photoswipe/dist/photoswipe.css'\n    import 'photoswipe/dist/default-skin/default-skin.css'\n    export default {\n        name:'ui-lightbox',\n        props: {\n            items: Array,\n            options: Object\n        },\n        data() {\n            return {\n                gallery: null\n            }\n        },\n        methods: {\n            close() {\n                this.gallery.destroy()\n            },\n            open(index = 0) {\n                let opt = {\n                    history: false, //不需要在query追加历史记录\n                    index: index, //初始打开的图片索引\n                }\n                opt = Object.assign({}, opt, this.options)\n\n                // Initializes and opens PhotoSwipe\n                this.gallery = new PhotoSwipe(this.$refs.pswp, PhotoSwipeUI_Default, this.items, opt);\n\n                this.gallery.init();\n            },\n            reinit(){//重新渲染\n                if (this.gallery) {\n                    this.gallery.invalidateCurrItems(); // reinit Items\n                    this.gallery.updateSize(true); // reinit Items\n                }\n            },\n            imgResize(){// 当图片尺寸为 0,开启本地动态计算\n                if (!this.items.length) return;\n                this.items.forEach((item)=>{\n                    const autoSize = !item.w || !item.h\n                    if (item.src && autoSize) {\n                        const img = new Image(); \n                        img.onload = ()=>{\n                            item.w = img.naturalWidth\n                            item.h = img.naturalHeight\n                            this.reinit()\n                        }\n                        img.src = item.src\n                    }\n                })\n            }\n        },\n        mounted(){\n            document.body.appendChild(this.$refs.pswp)\n            if (this.items.length>0) {\n                this.imgResize()\n            }\n        },\n        beforeDestroy(){\n            document.body.removeChild(this.$refs.pswp)\n        },\n        watch:{\n            items(){\n                this.imgResize()\n            }\n        },\n    }\n\n</script>\n"]}]}