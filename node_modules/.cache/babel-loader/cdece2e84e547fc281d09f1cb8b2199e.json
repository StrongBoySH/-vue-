{"remainingRequest":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\babel-loader\\lib\\index.js!D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-menu\\ui-menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-menu\\ui-menu.vue","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd1aS1tZW51JywKICBwcm9wczogewogICAgb3B0aW9uczogQXJyYXksCiAgICB2YWx1ZTogJycgLy/lvZPliY3kuoznuqfoioLngrlpZAoKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZ3JvdXBUZXh0OiAnJywKICAgICAgaXRlbVRleHQ6ICcnLAogICAgICBmaWx0ZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgaGVhZGVySGVpZ2h0OiAnJywKICAgICAgdHJlZVZpc2libGU6IGZhbHNlLAogICAgICBtYWluQWN0aXZlSW5kZXg6IDAsCiAgICAgIGFjdGl2ZUdyb3VwSW5kZXg6IDAgLy/lvZPliY3ngrnkuq7nmoTnu4QKCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIG9uTmF2Q2xpY2soaW5kZXgpIHsKICAgICAgLy/kuIDnuqfoioLngrnpgInmi6kKICAgICAgdGhpcy5tYWluQWN0aXZlSW5kZXggPSBpbmRleDsKICAgIH0sCgogICAgb25JdGVtQ2xpY2soZGF0YSkgewogICAgICAvL+S6jOe6p+iKgueCuemAieaLqQogICAgICB0aGlzLmdyb3VwVGV4dCA9IHRoaXMub3B0aW9uc1t0aGlzLm1haW5BY3RpdmVJbmRleF0udGV4dDsKICAgICAgdGhpcy5pdGVtVGV4dCA9IGRhdGEudGV4dDsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBkYXRhLmlkKTsKICAgICAgdGhpcy5jbG9zZSgpOwogICAgfSwKCiAgICBvcGVuKCkgewogICAgICB0aGlzLnRyZWVWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCgogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMudHJlZVZpc2libGUgPSBmYWxzZTsKICAgIH0sCgogICAgdXBkYXRlVGV4dCgpIHsKICAgICAgLy/mm7TmlrDpnaLljIXlsZHlr7zoiKoKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMub3B0aW9ucy5mb3JFYWNoKChncm91cCwgaW5kZXgpID0+IHsKICAgICAgICAgIGlmIChncm91cC5jaGlsZHJlbikgewogICAgICAgICAgICBncm91cC5jaGlsZHJlbi5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgIGlmIChpdGVtLmlkID09IHRoaXMudmFsdWUpIHsKICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBUZXh0ID0gZ3JvdXAudGV4dDsKICAgICAgICAgICAgICAgIHRoaXMuaXRlbVRleHQgPSBpdGVtLnRleHQ7CiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUdyb3VwSW5kZXggPSBpbmRleDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgfSwKICB3YXRjaDogewogICAgdHJlZVZpc2libGUodikgewogICAgICBpZiAodikgewogICAgICAgIC8v5byA5ZCv562b6YCJ5pe2LOmHjee9ruiSmeWxgnRvcOWumuS9jQogICAgICAgIGNvbnN0IGJhciA9IHRoaXMuJHJlZnMuYmFyOwogICAgICAgIHRoaXMuaGVhZGVySGVpZ2h0ID0gYmFyLm9mZnNldFRvcCArIGJhci5jbGllbnRIZWlnaHQgKyAncHgnOyAvLyDmv4DmtLvlr7nlupTnmoTnu4QKCiAgICAgICAgdGhpcy5tYWluQWN0aXZlSW5kZXggPSB0aGlzLmFjdGl2ZUdyb3VwSW5kZXg7CiAgICAgIH0KCiAgICAgIHRoaXMuJGV2ZW50SHViLiRlbWl0KCd1aS1tYWluLXNjcm9sbCcsICF2KTsKICAgIH0sCgogICAgdmFsdWUoKSB7CiAgICAgIHRoaXMudXBkYXRlVGV4dCgpOwogICAgfQoKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy51cGRhdGVUZXh0KCk7CiAgfQoKfTs="},{"version":3,"sources":["ui-menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA,KADA;AAEA,IAAA,KAAA,EAAA,EAFA,CAEA;;AAFA,GAFA;;AAMA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,aAAA,EAAA,KAHA;AAIA,MAAA,YAAA,EAAA,EAJA;AAKA,MAAA,WAAA,EAAA,KALA;AAMA,MAAA,eAAA,EAAA,CANA;AAOA,MAAA,gBAAA,EAAA,CAPA,CAOA;;AAPA,KAAA;AASA,GAhBA;;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,CAAA,KAAA,EAAA;AAAA;AACA,WAAA,eAAA,GAAA,KAAA;AAEA,KAJA;;AAKA,IAAA,WAAA,CAAA,IAAA,EAAA;AAAA;AACA,WAAA,SAAA,GAAA,KAAA,OAAA,CAAA,KAAA,eAAA,EAAA,IAAA;AACA,WAAA,QAAA,GAAA,IAAA,CAAA,IAAA;AAEA,WAAA,KAAA,CAAA,OAAA,EAAA,IAAA,CAAA,EAAA;AACA,WAAA,KAAA;AACA,KAXA;;AAYA,IAAA,IAAA,GAAA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,KAdA;;AAeA,IAAA,KAAA,GAAA;AACA,WAAA,WAAA,GAAA,KAAA;AACA,KAjBA;;AAkBA,IAAA,UAAA,GAAA;AAAA;AACA,WAAA,SAAA,CAAA,MAAA;AACA,aAAA,OAAA,CAAA,OAAA,CAAA,CAAA,KAAA,EAAA,KAAA,KAAA;AACA,cAAA,KAAA,CAAA,QAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,IAAA,IAAA;AACA,kBAAA,IAAA,CAAA,EAAA,IAAA,KAAA,KAAA,EAAA;AACA,qBAAA,SAAA,GAAA,KAAA,CAAA,IAAA;AACA,qBAAA,QAAA,GAAA,IAAA,CAAA,IAAA;AACA,qBAAA,gBAAA,GAAA,KAAA;AACA;AACA,aANA;AAOA;AACA,SAVA;AAWA,OAZA;AAaA;;AAhCA,GAjBA;AAmDA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,CAAA,CAAA,EAAA;AACA,UAAA,CAAA,EAAA;AACA;AACA,cAAA,GAAA,GAAA,KAAA,KAAA,CAAA,GAAA;AACA,aAAA,YAAA,GAAA,GAAA,CAAA,SAAA,GAAA,GAAA,CAAA,YAAA,GAAA,IAAA,CAHA,CAKA;;AACA,aAAA,eAAA,GAAA,KAAA,gBAAA;AACA;;AACA,WAAA,SAAA,CAAA,KAAA,CAAA,gBAAA,EAAA,CAAA,CAAA;AACA,KAXA;;AAYA,IAAA,KAAA,GAAA;AACA,WAAA,UAAA;AACA;;AAdA,GAnDA;;AAmEA,EAAA,OAAA,GAAA;AACA,SAAA,UAAA;AACA;;AArEA,CAAA","sourcesContent":["<style lang=\"scss\" scope>\n    .modal{\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(black,.5);\n        z-index: 10;\n    }\n    .filter-list{\n        $bg:#f8f8f8;\n        position: absolute;\n        left: 0;\n        right: 0;\n        font-size: 12px;\n        z-index: 11;\n        background-color: #fff;\n        .van-tree-select__nav{\n            background-color: $bg;\n        }\n        .van-tree-select__item{\n            border-bottom:1px solid rgba(black,.05);\n        }\n        .van-tree-select__nitem{//一级菜单\n            background-color: $bg;\n            &.van-tree-select__nitem--active{//已激活\n                background-color: #fff;\n                color:#f44\n            }\n        }\n    }\n    .tree-select-bar{\n        background-color: #fff;\n        padding: .3rem .5rem;\n        font-size: 12px;\n        color: #26a2ff;\n        box-shadow: 0 1px 1px rgba(black, .1);\n        position: relative;\n        z-index: 2;\n    }\n</style>\n<template>\n    <div ref=\"el\">\n        <!-- 面包屑开关 -->\n        <div class=\"tree-select-bar\" ref=\"bar\">\n            <span @click=\"treeVisible=!treeVisible\">\n                {{groupText}} / {{itemText}}\n                <van-icon name=\"arrow-down\" />\n            </span>\n        </div>\n        <!-- 筛选树 -->\n        <div>\n            <van-tree-select\n            v-show=\"treeVisible\" \n            :items=\"options\" \n            :main-active-index=\"mainActiveIndex\" \n            :active-id=\"value\" \n            @navclick=\"onNavClick\" \n            @itemclick=\"onItemClick\" \n            class=\"filter-list\"\n            />\n            <div class=\"modal\" v-show=\"treeVisible\" :style=\"{top:headerHeight}\" @click=\"treeVisible=false\" ref=\"modal\"></div>\n        </div>\n    </div>\n</template>\n<script>\n    export default {\n        name:'ui-menu',\n        props:{\n            options:Array,\n            value:'',//当前二级节点id\n        },\n        data() {\n            return {\n                groupText:'',\n                itemText:'',\n                filterVisible:false,\n                headerHeight:'',\n                treeVisible:false,\n                mainActiveIndex:0,\n                activeGroupIndex:0,//当前点亮的组\n            }\n        },\n        methods: {\n            onNavClick(index) {//一级节点选择\n                this.mainActiveIndex = index\n                \n            },\n            onItemClick(data) {//二级节点选择\n                this.groupText = this.options[this.mainActiveIndex].text\n                this.itemText = data.text\n\n                this.$emit('input',data.id)\n                this.close()\n            },\n            open(){\n                this.treeVisible = true\n            },\n            close(){\n                this.treeVisible = false\n            },\n            updateText(){//更新面包屑导航\n                this.$nextTick(() => {\n                    this.options.forEach((group,index)=>{\n                        if (group.children) {\n                            group.children.forEach((item)=>{\n                                if (item.id == this.value) {\n                                    this.groupText = group.text\n                                    this.itemText = item.text\n                                    this.activeGroupIndex = index\n                                }\n                            })\n                        }\n                    })\n                })\n            },\n        },\n        watch:{\n            treeVisible(v){\n                if (v) {\n                    //开启筛选时,重置蒙层top定位\n                    const bar = this.$refs.bar\n                    this.headerHeight = bar.offsetTop + bar.clientHeight + 'px'\n\n                    // 激活对应的组\n                    this.mainActiveIndex = this.activeGroupIndex\n                }\n                this.$eventHub.$emit('ui-main-scroll',!v)\n            },\n            value(){\n                this.updateText()\n            }\n        },\n        mounted(){\n            this.updateText()\n        },\n    }\n</script>"],"sourceRoot":"node_modules/vant-ui/components/ui-menu"}]}