{"remainingRequest":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\babel-loader\\lib\\index.js!D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-picker\\ui-picker.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vant-ui\\components\\ui-picker\\ui-picker.vue","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpStudy\\PHPTutorial\\WWW\\vue\\object - 副本\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd1aS1waWNrZXInLAogIHByb3BzOiB7CiAgICBvcHRpb25zOiBBcnJheSwKICAgIHZhbHVlOiAnJywKICAgIGxhYmVsOiBTdHJpbmcsCiAgICByZXF1aXJlZDogQm9vbGVhbiwKICAgIHBsYWNlaG9sZGVyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ+ivt+mAieaLqeS4gOmhuScKICAgIH0sCiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHZhbHVlS2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3RleHQnCiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvcHVwVmlzaWJsZTogZmFsc2UsCiAgICAgIHJlUmVuZGVyU3dpdGNoOiB0cnVlLAogICAgICAvL+eUqOS6jumHjee7mHBpY2tlcgogICAgICBzZWxlY3RlZFRleHQ6ICcnLAogICAgICBzZWxlY3RlZEluZGV4OiAwCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnN5bmNCeU1vZGVsKCk7CiAgfSwKCiAgd2F0Y2g6IHsKICAgIHZhbHVlKHYpIHsKICAgICAgdGhpcy5zeW5jQnlNb2RlbCgpOwogICAgfSwKCiAgICBwb3B1cFZpc2libGUodikgewogICAgICBpZiAodiA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHRoaXMuJHJlZnMucGlja2VyLnNldEluZGV4ZXMoW3RoaXMuc2VsZWN0ZWRJbmRleF0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CgogIH0sCiAgbWV0aG9kczogewogICAgY29uZmlybShpdGVtKSB7CiAgICAgIC8vIOS/ruaUuXYtbW9kZWwKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBpdGVtLmlkKTsgLy8gQGNoYW5nZeWbnuiwgwoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRUZXh0KSB7CiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgaXRlbSk7CiAgICAgIH0gLy8g5YWz6ZetCgoKICAgICAgdGhpcy5jbG9zZSgpOwogICAgfSwKCiAgICBvcGVuKCkgewogICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHsKICAgICAgICB0aGlzLnBvcHVwVmlzaWJsZSA9IHRydWU7CiAgICAgIH0KICAgIH0sCgogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLnBvcHVwVmlzaWJsZSA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCgogICAgc3luY0J5TW9kZWwoKSB7CiAgICAgIGlmICghdGhpcy52YWx1ZSkgcmV0dXJuOwogICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgoaXRlbSwgaSkgPT4gewogICAgICAgIGlmIChpdGVtLmlkID09PSB0aGlzLnZhbHVlKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9IGl0ZW1bdGhpcy52YWx1ZUtleV07CiAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogIH0KfTs="},{"version":3,"sources":["ui-picker.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA,KADA;AAEA,IAAA,KAAA,EAAA,EAFA;AAGA,IAAA,KAAA,EAAA,MAHA;AAIA,IAAA,QAAA,EAAA,OAJA;AAKA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KALA;AASA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KATA;AAaA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAbA,GAFA;;AAoBA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,KADA;AAEA,MAAA,cAAA,EAAA,IAFA;AAEA;AACA,MAAA,YAAA,EAAA,EAHA;AAIA,MAAA,aAAA,EAAA;AAJA,KAAA;AAMA,GA3BA;;AA4BA,EAAA,OAAA,GAAA;AACA,SAAA,WAAA;AACA,GA9BA;;AA+BA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,CAAA,CAAA,EAAA;AACA,WAAA,WAAA;AACA,KAHA;;AAIA,IAAA,YAAA,CAAA,CAAA,EAAA;AACA,UAAA,CAAA,KAAA,IAAA,EAAA;AACA,aAAA,SAAA,CAAA,MAAA;AACA,eAAA,KAAA,CAAA,MAAA,CAAA,UAAA,CAAA,CAAA,KAAA,aAAA,CAAA;AACA,SAFA;AAGA;AACA;;AAVA,GA/BA;AA2CA,EAAA,OAAA,EAAA;AACA,IAAA,OAAA,CAAA,IAAA,EAAA;AACA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,IAAA,CAAA,EAAA,EAFA,CAGA;;AACA,UAAA,KAAA,YAAA,EAAA;AACA,aAAA,KAAA,CAAA,QAAA,EAAA,IAAA;AACA,OANA,CAOA;;;AACA,WAAA,KAAA;AACA,KAVA;;AAWA,IAAA,IAAA,GAAA;AACA,UAAA,CAAA,KAAA,QAAA,EAAA;AACA,aAAA,YAAA,GAAA,IAAA;AACA;AACA,KAfA;;AAgBA,IAAA,KAAA,GAAA;AACA,WAAA,SAAA,CAAA,MAAA;AACA,aAAA,YAAA,GAAA,KAAA;AACA,OAFA;AAGA,KApBA;;AAqBA,IAAA,WAAA,GAAA;AACA,UAAA,CAAA,KAAA,KAAA,EAAA;AAEA,WAAA,OAAA,CAAA,OAAA,CAAA,CAAA,IAAA,EAAA,CAAA,KAAA;AACA,YAAA,IAAA,CAAA,EAAA,KAAA,KAAA,KAAA,EAAA;AACA,eAAA,YAAA,GAAA,IAAA,CAAA,KAAA,QAAA,CAAA;AACA,eAAA,aAAA,GAAA,CAAA;AACA;AACA,OALA;AAMA;;AA9BA;AA3CA,CAAA","sourcesContent":["<style lang=\"scss\" scoped>\n    .ui-picker{\n        width: 100vw;\n    }\n</style>\n<template>\n    <van-field :label=\"label\" v-model=\"selectedText\" :placeholder=\"placeholder\" readonly :required=\"required\" @focus=\"open()\">\n        <!-- 弹出层会插入body -->\n        <template v-slot:button>\n            <div ref=\"popup\">\n                <van-popup class=\"ui-picker\" v-model=\"popupVisible\" position=\"bottom\" get-container=\"body\">\n                    <van-picker\n                    show-toolbar\n                    :columns=\"options\"\n                    @cancel=\"close\"\n                    @confirm=\"confirm\"\n                    ref=\"picker\"\n                    :loading=\"options.length===0\"\n                    />\n                </van-popup>\n            </div>\n        </template>\n    </van-field>\n</template>\n<script>\n    export default {\n        name:'ui-picker',\n        props:{\n            options:Array,\n            value:'',\n            label:String,\n            required:Boolean,\n            placeholder:{\n                type:String,\n                default:'请选择一项'\n            },\n            disabled:{\n                type:Boolean,\n                default:false\n            },\n            valueKey:{\n                type:String,\n                default:'text'\n            }\n        },\n        data(){\n            return {\n                popupVisible:false,\n                reRenderSwitch:true,//用于重绘picker\n                selectedText:'',\n                selectedIndex:0\n            }\n        },\n        mounted(){\n            this.syncByModel()\n        },\n        watch:{\n            value(v){\n                this.syncByModel()\n            },\n            popupVisible(v){\n                if (v===true) {\n                    this.$nextTick(() => {\n                        this.$refs.picker.setIndexes([this.selectedIndex])\n                    })\n                }\n            }\n        },\n        methods:{\n            confirm(item){\n                // 修改v-model\n                this.$emit('input',item.id)\n                // @change回调\n                if (this.selectedText) {\n                    this.$emit('change', item)\n                }\n                // 关闭\n                this.close()\n            },\n            open(){\n                if (!this.disabled){\n                    this.popupVisible=true\n                }\n            },\n            close(){\n                this.$nextTick(() => {\n                    this.popupVisible=false\n                })\n            },\n            syncByModel(){\n                if (!this.value) return;\n                    \n                this.options.forEach((item,i)=>{\n                    if (item.id === this.value) {\n                        this.selectedText = item[this.valueKey]\n                        this.selectedIndex=i\n                    }\n                })\n            }\n        },\n    }\n</script>\n"],"sourceRoot":"node_modules/vant-ui/components/ui-picker"}]}